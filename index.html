<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Access the Hathi Trust Bookworm and Extracted Features Files from R • hathiTools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Access the Hathi Trust Bookworm and Extracted Features Files from R">
<meta property="og:description" content='The package allows one to query the Hathi Trust Digital Library Bookworm and Workset Builder, as well as to download the "extracted features" and metadata files for more than 17 million digitized volumes.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">hathiTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/example_workflow.html">An Example Workflow</a>
    </li>
    <li>
      <a href="articles/topic_models_using_hathi_ef.html">Topic Modeling using the Hathi Trust Extracted Features Files</a>
    </li>
    <li>
      <a href="articles/using_the_hathi_bookworm.html">Using the Hathi Trust Bookworm Tool</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/xmarquez/hathiTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="hathitools">hathiTools<a class="anchor" aria-label="anchor" href="#hathitools"></a>
</h1></div>
<!-- badges: start -->
<p>This package allows you to interact with various free data resources made available by the Hathi Trust digital library, including the Hathi Trust <a href="https://bookworm.htrc.illinois.edu/develop/" class="external-link">Bookworm</a>, a tool similar to the <a href="https://books.google.com/ngrams" class="external-link">Google ngram viewer</a> and the Hathi Trust <a href="https://solr2.htrc.illinois.edu/solr-ef/" class="external-link">Workset Builder 2.0</a>. It also allows you to download and process the <a href="https://analytics.hathitrust.org/datasets" class="external-link">Hathi Trust Extracted Features files</a>, which contain per-page word counts and part-of-speech information for over 17 million digitised volumes, including many of those originally digitised by Google for its Google Books project.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>This package is not on CRAN. Install from GitHub as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span> </span>
<span><span class="op">}</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"xmarquez/hathiTools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="downloading-word-frequencies-from-the-hathi-trust-bookworm">Downloading word frequencies from the Hathi Trust Bookworm<a class="anchor" aria-label="anchor" href="#downloading-word-frequencies-from-the-hathi-trust-bookworm"></a>
</h2>
<p>The simplest task to use the package for is to download word frequencies from the Hathi Trust <a href="https://bookworm.htrc.illinois.edu/develop/" class="external-link">Bookworm</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/xmarquez/hathiTools" class="external-link">hathiTools</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Available fields for bookworm queries in the Bookworm2021 db:</span></span>
<span><span class="co">#&gt; lc_classes, lc_subclass, fiction_nonfiction, genres, languages, htsource, digitization_agent_code, mainauthor, publisher, format, is_gov_doc, page_count_bin, word_count_bin, publication_country, publication_state, publication_place, date_year</span></span>
<span><span class="co">#&gt; Retrieve options via getOption("hathiTools.bookworm.fields")</span></span>
<span><span class="co">#&gt; Currently caching Hathi Trust Extracted Features files to ./hathi-ef</span></span>
<span><span class="co">#&gt; Change default caching directory by setting options(hathiTools.ef.dir = $DIR)</span></span>
<span><span class="co">#&gt; Default cache format csv.gz</span></span>
<span><span class="co">#&gt; Change default cache format by setting options(hathiTools.cacheformat = 'new_cache_format')</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'tidyverse' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; ── Attaching packages</span></span>
<span><span class="co">#&gt; ───────────────────────────────────────</span></span>
<span><span class="co">#&gt; tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; ✔ ggplot2 3.3.6     ✔ purrr   0.3.4</span></span>
<span><span class="co">#&gt; ✔ tibble  3.1.8     ✔ dplyr   1.0.9</span></span>
<span><span class="co">#&gt; ✔ tidyr   1.2.0     ✔ stringr 1.4.0</span></span>
<span><span class="co">#&gt; ✔ readr   2.1.2     ✔ forcats 0.5.1</span></span>
<span><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'tibble' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'tidyr' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'readr' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'purrr' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'dplyr' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'stringr' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; Warning: package 'forcats' was built under R version 4.2.1</span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/DavisVaughan/slider" class="external-link">slider</a></span><span class="op">)</span> <span class="co">## For rolling averages</span></span>
<span><span class="co">#&gt; Warning: package 'slider' was built under R version 4.2.1</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_bookworm.html">query_bookworm</a></span><span class="op">(</span>word <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"democracy"</span>, <span class="st">"monarchy"</span><span class="op">)</span>, lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1760</span>, <span class="fl">2000</span><span class="op">)</span>, counttype <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WordsPerMillion"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span></span>
<span><span class="co">#&gt; # A tibble: 482 × 4</span></span>
<span><span class="co">#&gt;    word      date_year value counttype      </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;         &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;          </span></span>
<span><span class="co">#&gt;  1 democracy      1760 0.382 WordsPerMillion</span></span>
<span><span class="co">#&gt;  2 democracy      1761 0.253 WordsPerMillion</span></span>
<span><span class="co">#&gt;  3 democracy      1762 0.332 WordsPerMillion</span></span>
<span><span class="co">#&gt;  4 democracy      1763 0.455 WordsPerMillion</span></span>
<span><span class="co">#&gt;  5 democracy      1764 0.593 WordsPerMillion</span></span>
<span><span class="co">#&gt;  6 democracy      1765 0.279 WordsPerMillion</span></span>
<span><span class="co">#&gt;  7 democracy      1766 0.406 WordsPerMillion</span></span>
<span><span class="co">#&gt;  8 democracy      1767 0.809 WordsPerMillion</span></span>
<span><span class="co">#&gt;  9 democracy      1768 0.439 WordsPerMillion</span></span>
<span><span class="co">#&gt; 10 democracy      1769 0.579 WordsPerMillion</span></span>
<span><span class="co">#&gt; # … with 472 more rows</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span>
<span></span>
<span><span class="va">result</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">word</span>, <span class="va">counttype</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>rolling_avg <span class="op">=</span> <span class="fu">slide_dbl</span><span class="op">(</span><span class="va">value</span>, <span class="va">mean</span>, .before <span class="op">=</span> <span class="fl">10</span>, .after <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date_year</span>, color <span class="op">=</span> <span class="va">word</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="va">value</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date_year</span>, y <span class="op">=</span> <span class="va">rolling_avg</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">counttype</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Year"</span>, y <span class="op">=</span> <span class="st">""</span>, subtitle <span class="op">=</span> <span class="st">"10 year rolling average, books published between 1760-2000"</span>,</span>
<span>       title <span class="op">=</span> <span class="st">"Frequency of 'democracy' and 'monarchy' in the HathiTrust corpus"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
<p>There are more than 18 million texts in the latest version of the Bookworm database.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">total_texts</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/query_bookworm.html">query_bookworm</a></span><span class="op">(</span>counttype <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TotalTexts"</span><span class="op">)</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"date_year"</span>, <span class="st">"languages"</span><span class="op">)</span>,</span>
<span>                          lims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2022</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_texts</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span><span class="co">#&gt;      value</span></span>
<span><span class="co">#&gt;      &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 18807270</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/slowkow/ggrepel" class="external-link">ggrepel</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">total_texts</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">date_year</span> <span class="op">&gt;</span> <span class="fl">1500</span>, <span class="va">date_year</span> <span class="op">&lt;</span> <span class="fl">2011</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>languages <span class="op">=</span> <span class="fu">fct_lump_n</span><span class="op">(</span><span class="va">languages</span>, <span class="fl">10</span>, w <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">date_year</span>, <span class="va">languages</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">summarise</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">languages</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">date_year</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">date_year</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">languages</span><span class="op">)</span>, <span class="cn">NA_character_</span><span class="op">)</span>,</span>
<span>         rolling_avg <span class="op">=</span> <span class="fu">slider</span><span class="fu">::</span><span class="fu">slide_dbl</span><span class="op">(</span><span class="va">value</span>, <span class="va">mean</span>, .before <span class="op">=</span> <span class="fl">10</span>, .after <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date_year</span>, y <span class="op">=</span> <span class="va">rolling_avg</span>, color <span class="op">=</span> <span class="va">languages</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date_year</span>, y <span class="op">=</span> <span class="va">value</span>, color <span class="op">=</span> <span class="va">languages</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_text_repel</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date_year</span>, y <span class="op">=</span> <span class="va">value</span>, label <span class="op">=</span> <span class="va">label</span>, color <span class="op">=</span> <span class="va">languages</span><span class="op">)</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_y_log10</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Total texts per language in the HathiTrust bookworm"</span>, </span>
<span>       subtitle <span class="op">=</span> <span class="st">"Log scale. Less common languages grouped as 'other'. 10 year rolling average."</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Year"</span>, y <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#&gt; `summarise()` has grouped output by 'date_year'. You can override using the</span></span>
<span><span class="co">#&gt; `.groups` argument.</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="100%"></p>
<p>See the article “<a href="articles/using_the_hathi_bookworm">Using the Hathi Bookworm</a>” for more on how to query the bookworm to get word frequencies grouped by particular fields and/or limited to specific categories.</p>
</div>
<div class="section level2">
<h2 id="creating-worksets-of-hathi-trust-ids">Creating Worksets of Hathi Trust IDs<a class="anchor" aria-label="anchor" href="#creating-worksets-of-hathi-trust-ids"></a>
</h2>
<p>We can also create worksets of Hathi Trust IDs for volumes in the digital library that meet specific criteria, such as all volumes that mention “liberal” and “democracy” in the same page, or all volumes with by Alexis de Tocqueville in the “author” field.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/workset_builder.html">workset_builder</a></span><span class="op">(</span><span class="st">"liberal democracy"</span>, volumes_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result2</span></span>
<span><span class="co">#&gt; # A tibble: 6,341 × 2</span></span>
<span><span class="co">#&gt;    htid                     id                                  </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                    &lt;chr&gt;                               </span></span>
<span><span class="co">#&gt;  1 aeu.ark:/13960/t05x3k82c aeu.ark:/13960/t05x3k82c.page-000075</span></span>
<span><span class="co">#&gt;  2 aeu.ark:/13960/t6pz5zs5h aeu.ark:/13960/t6pz5zs5h.page-000251</span></span>
<span><span class="co">#&gt;  3 aeu.ark:/13960/t8qc19m2f aeu.ark:/13960/t8qc19m2f.page-000222</span></span>
<span><span class="co">#&gt;  4 chi.096292271            chi.096292271.page-000364           </span></span>
<span><span class="co">#&gt;  5 chi.096292336            chi.096292336.page-000368           </span></span>
<span><span class="co">#&gt;  6 chi.101607416            chi.101607416.page-001182           </span></span>
<span><span class="co">#&gt;  7 chi.63733675             chi.63733675.page-000012            </span></span>
<span><span class="co">#&gt;  8 chi.65548487             chi.65548487.page-000438            </span></span>
<span><span class="co">#&gt;  9 chi.78011095             chi.78011095.page-000870            </span></span>
<span><span class="co">#&gt; 10 chi.78020645             chi.78020645.page-000400            </span></span>
<span><span class="co">#&gt; # … with 6,331 more rows</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/workset_builder.html">workset_builder</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Alexis de Tocqueville"</span><span class="op">)</span></span>
<span><span class="va">result3</span></span>
<span><span class="co">#&gt; # A tibble: 464 × 2</span></span>
<span><span class="co">#&gt;    htid                   n</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 mdp.39015079304757  1358</span></span>
<span><span class="co">#&gt;  2 mdp.39015008706338  1213</span></span>
<span><span class="co">#&gt;  3 mdp.39015058109706   945</span></span>
<span><span class="co">#&gt;  4 nyp.33433081795357   910</span></span>
<span><span class="co">#&gt;  5 uva.x000469924       909</span></span>
<span><span class="co">#&gt;  6 hvd.32044051720316   906</span></span>
<span><span class="co">#&gt;  7 coo.31924030454809   904</span></span>
<span><span class="co">#&gt;  8 nyp.33433081795266   903</span></span>
<span><span class="co">#&gt;  9 ien.35556041207515   901</span></span>
<span><span class="co">#&gt; 10 nyp.33433081795381   901</span></span>
<span><span class="co">#&gt; # … with 454 more rows</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<p>We can browse these volumes interactively in the Hathi Trust website:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/browse_htids.html">browse_htids</a></span><span class="op">(</span><span class="va">result2</span><span class="op">)</span></span></code></pre></div>
<p>See the article “<a href="articles/topic_models_using_hathi_ef">Topic Models Using Hathi Extracted Features</a>” for more on creating and using worksets for specific analysis purposes.</p>
</div>
<div class="section level2">
<h2 id="downloading-extracted-feature-files-for-specific-hathi-trust-volumes-and-caching-them-to-specific-formats">Downloading extracted feature files for specific Hathi Trust volumes and caching them to specific formats<a class="anchor" aria-label="anchor" href="#downloading-extracted-feature-files-for-specific-hathi-trust-volumes-and-caching-them-to-specific-formats"></a>
</h2>
<p>We can download the Extracted Features file associated with any of these HathiTrust IDs:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">extracted_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_hathi_counts.html">get_hathi_counts</a></span><span class="op">(</span><span class="va">result3</span><span class="op">$</span><span class="va">htid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span>
<span><span class="co">#&gt; Now caching EF file for mdp.39015008706338</span></span>
<span></span>
<span><span class="va">extracted_features</span></span>
<span><span class="co">#&gt; # A tibble: 222,275 × 6</span></span>
<span><span class="co">#&gt;    htid               token POS   count section  page</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 mdp.39015008706338 E     UNK       3 body        2</span></span>
<span><span class="co">#&gt;  2 mdp.39015008706338 s     UNK       1 body        2</span></span>
<span><span class="co">#&gt;  3 mdp.39015008706338 .     UNK       1 body        2</span></span>
<span><span class="co">#&gt;  4 mdp.39015008706338 N     UNK       2 body        2</span></span>
<span><span class="co">#&gt;  5 mdp.39015008706338 IllE  UNK       1 body        2</span></span>
<span><span class="co">#&gt;  6 mdp.39015008706338 ::    UNK       1 body        2</span></span>
<span><span class="co">#&gt;  7 mdp.39015008706338 |     UNK       3 body        2</span></span>
<span><span class="co">#&gt;  8 mdp.39015008706338 -'    UNK       1 body        2</span></span>
<span><span class="co">#&gt;  9 mdp.39015008706338 -     UNK       6 body        2</span></span>
<span><span class="co">#&gt; 10 mdp.39015008706338 #     UNK       1 body        2</span></span>
<span><span class="co">#&gt; # … with 222,265 more rows</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<p>And we can extract the metadata for any of them as well:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_hathi_meta.html">get_hathi_meta</a></span><span class="op">(</span><span class="va">result3</span><span class="op">$</span><span class="va">htid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">meta</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 20</span></span>
<span><span class="co">#&gt;   htid         schem…¹ id    type  dateC…² title contr…³ pubDate publi…⁴ pubPl…⁵</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 mdp.3901500… https:… http… "[[\…  2.02e7 De l… "{\"id…    1836 "{\"id… "{\"id…</span></span>
<span><span class="co">#&gt; # … with 10 more variables: language &lt;chr&gt;, accessRights &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   accessProfile &lt;chr&gt;, sourceInstitution &lt;chr&gt;, mainEntityOfPage &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   oclc &lt;chr&gt;, genre &lt;chr&gt;, enumerationChronology &lt;chr&gt;, typeOfResource &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lastRightsUpdateDate &lt;int&gt;, and abbreviated variable names ¹​schemaVersion,</span></span>
<span><span class="co">#&gt; #   ²​dateCreated, ³​contributor, ⁴​publisher, ⁵​pubPlace</span></span>
<span><span class="co">#&gt; # ℹ Use `colnames()` to see all variable names</span></span></code></pre></div>
<p>Including the page-level metadata for any volume:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">page_meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_hathi_page_meta.html">get_hathi_page_meta</a></span><span class="op">(</span><span class="va">result3</span><span class="op">$</span><span class="va">htid</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">page_meta</span></span>
<span><span class="co">#&gt; # A tibble: 2,608 × 17</span></span>
<span><span class="co">#&gt;    htid       page seq   version token…¹ lineC…² empty…³ sente…⁴ calcu…⁵ secti…⁶</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;   &lt;int&gt;   &lt;int&gt;   &lt;int&gt; &lt;chr&gt;     &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 mdp.3901…     2 0000… 6c4865…      23       9       1      NA &lt;NA&gt;         23</span></span>
<span><span class="co">#&gt;  2 mdp.3901…     4 0000… eeacf0…       7       9       4      NA &lt;NA&gt;          7</span></span>
<span><span class="co">#&gt;  3 mdp.3901…     5 0000… 43839d…       7       4       1      NA &lt;NA&gt;          7</span></span>
<span><span class="co">#&gt;  4 mdp.3901…     7 0000… 4f96d5…       1       2       1      NA &lt;NA&gt;          1</span></span>
<span><span class="co">#&gt;  5 mdp.3901…     9 0000… fe4c49…     420      38       1       4 zh          420</span></span>
<span><span class="co">#&gt;  6 mdp.3901…    10 0000… 2384c7…      20      11       1       2 en           20</span></span>
<span><span class="co">#&gt;  7 mdp.3901…    11 0000… 352c92…      79      28       6      NA br           79</span></span>
<span><span class="co">#&gt;  8 mdp.3901…    12 0000… e62077…      26      15       1       1 zh           26</span></span>
<span><span class="co">#&gt;  9 mdp.3901…    13 0000… aa0fbc…       8       5       1      NA so            8</span></span>
<span><span class="co">#&gt; 10 mdp.3901…    14 0000… 275644…      19       2       0      NA &lt;NA&gt;         19</span></span>
<span><span class="co">#&gt; # … with 2,598 more rows, 7 more variables: sectionLineCount &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   sectionEmptyLineCount &lt;int&gt;, sectionSentenceCount &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   sectionCapAlphaSeq &lt;int&gt;, sectionBeginCharCount &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   sectionEndCharCount &lt;chr&gt;, section &lt;chr&gt;, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​tokenCount, ²​lineCount, ³​emptyLineCount, ⁴​sentenceCount,</span></span>
<span><span class="co">#&gt; #   ⁵​calculatedLanguage, ⁶​sectionTokenCount</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span></code></pre></div>
<p>We can also get the metadata for many or all of these books at the same time:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_workset_meta.html">get_workset_meta</a></span><span class="op">(</span><span class="va">result3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, metadata_dir <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting download key...</span></span>
<span><span class="co">#&gt; Downloading metadata for 5 volumes. This might take some time.</span></span>
<span></span>
<span><span class="va">meta</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 16</span></span>
<span><span class="co">#&gt;   htid       acces…¹ acces…² url   title dateC…³ lastR…⁴ pubDate schem…⁵ typeO…⁶</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 mdp.39015… google  ic      http… Oeuv…  2.02e7  2.02e7    1991 https:… http:/…</span></span>
<span><span class="co">#&gt; 2 mdp.39015… google  pd      http… De l…  2.02e7  2.02e7    1836 https:… http:/…</span></span>
<span><span class="co">#&gt; 3 mdp.39015… google  ic      http… Demo…  2.02e7  2.02e7    2004 https:… http:/…</span></span>
<span><span class="co">#&gt; 4 nyp.33433… google  pd      http… Demo…  2.02e7  2.02e7    1847 https:… http:/…</span></span>
<span><span class="co">#&gt; 5 uva.x0004… google  pd      http… The …  2.02e7  2.02e7    1849 https:… http:/…</span></span>
<span><span class="co">#&gt; # … with 6 more variables: language &lt;chr&gt;, oclc &lt;dbl&gt;, genre &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   contributor &lt;chr&gt;, publisher &lt;chr&gt;, pubPlace &lt;chr&gt;, and abbreviated</span></span>
<span><span class="co">#&gt; #   variable names ¹​accessProfile, ²​accessRights, ³​dateCreated,</span></span>
<span><span class="co">#&gt; #   ⁴​lastRightsUpdateDate, ⁵​schemaVersion, ⁶​typeOfResource</span></span>
<span><span class="co">#&gt; # ℹ Use `colnames()` to see all variable names</span></span></code></pre></div>
<p>One can also turn a workset into a list of htids for downloading their extracted features via rsync:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/htid_to_rsync.html">htid_to_rsync</a></span><span class="op">(</span><span class="va">result3</span><span class="op">$</span><span class="va">htid</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, file <span class="op">=</span> <span class="va">tmp</span><span class="op">)</span></span>
<span><span class="co">#&gt; Use rsync -av --files-from C:\Users\marquexa\AppData\Local\Temp\Rtmp2Ju5y7\file3e98314b313e data.analytics.hathitrust.org::features-2020.03/ hathi-ef/ to download EF files to hathi-ef directory</span></span></code></pre></div>
<p>There’s a convenience function that will attempt to do this for you in one command, if you have rsync installed.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/rsync_from_hathi.html">rsync_from_hathi</a></span><span class="op">(</span><span class="va">result3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmpdir</span><span class="op">)</span></span>
<span><span class="co">#&gt; 0</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>And you can cache these files to csv or some other fast-loading format also in one command:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/cache_htids.html">cache_htids</a></span><span class="op">(</span><span class="va">result3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmpdir</span><span class="op">)</span></span>
<span><span class="co">#&gt; 3 HTIDs have already been cached to csv.gz format.</span></span>
<span><span class="co">#&gt; Preparing to cache 4 EF files to C:/Users/marquexa/AppData/Local/Temp/Rtmp2Ju5y7 (../../../AppData/Local/Temp/Rtmp2Ju5y7)</span></span>
<span><span class="co">#&gt; Now caching EF file for mdp.39015058109706</span></span>
<span><span class="co">#&gt; Now caching volume-level metadata for mdp.39015058109706</span></span>
<span><span class="co">#&gt; Now caching page-level metadata for mdp.39015058109706</span></span>
<span><span class="co">#&gt; Now caching EF file for mdp.39015079304757</span></span>
<span><span class="co">#&gt; Now caching volume-level metadata for mdp.39015079304757</span></span>
<span><span class="co">#&gt; Now caching page-level metadata for mdp.39015079304757</span></span>
<span><span class="co">#&gt; Now caching EF file for nyp.33433081795357</span></span>
<span><span class="co">#&gt; Now caching volume-level metadata for nyp.33433081795357</span></span>
<span><span class="co">#&gt; Now caching page-level metadata for nyp.33433081795357</span></span>
<span><span class="co">#&gt; Now caching EF file for uva.x000469924</span></span>
<span><span class="co">#&gt; Now caching volume-level metadata for uva.x000469924</span></span>
<span><span class="co">#&gt; Now caching page-level metadata for uva.x000469924</span></span>
<span><span class="co">#&gt; # A tibble: 15 × 5</span></span>
<span><span class="co">#&gt;    htid               local_loc                           cache…¹ cache…² exists</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;              &lt;glue&gt;                              &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt; </span></span>
<span><span class="co">#&gt;  1 mdp.39015079304757 C:\Users\marquexa\AppData\Local\Te… csv.gz  ef      TRUE  </span></span>
<span><span class="co">#&gt;  2 mdp.39015008706338 C:\Users\marquexa\AppData\Local\Te… csv.gz  ef      TRUE  </span></span>
<span><span class="co">#&gt;  3 mdp.39015058109706 C:\Users\marquexa\AppData\Local\Te… csv.gz  ef      TRUE  </span></span>
<span><span class="co">#&gt;  4 nyp.33433081795357 C:\Users\marquexa\AppData\Local\Te… csv.gz  ef      TRUE  </span></span>
<span><span class="co">#&gt;  5 uva.x000469924     C:\Users\marquexa\AppData\Local\Te… csv.gz  ef      TRUE  </span></span>
<span><span class="co">#&gt;  6 mdp.39015079304757 C:\Users\marquexa\AppData\Local\Te… csv.gz  meta    TRUE  </span></span>
<span><span class="co">#&gt;  7 mdp.39015008706338 C:\Users\marquexa\AppData\Local\Te… csv.gz  meta    TRUE  </span></span>
<span><span class="co">#&gt;  8 mdp.39015058109706 C:\Users\marquexa\AppData\Local\Te… csv.gz  meta    TRUE  </span></span>
<span><span class="co">#&gt;  9 nyp.33433081795357 C:\Users\marquexa\AppData\Local\Te… csv.gz  meta    TRUE  </span></span>
<span><span class="co">#&gt; 10 uva.x000469924     C:\Users\marquexa\AppData\Local\Te… csv.gz  meta    TRUE  </span></span>
<span><span class="co">#&gt; 11 mdp.39015079304757 C:\Users\marquexa\AppData\Local\Te… csv.gz  pageme… TRUE  </span></span>
<span><span class="co">#&gt; 12 mdp.39015008706338 C:\Users\marquexa\AppData\Local\Te… csv.gz  pageme… TRUE  </span></span>
<span><span class="co">#&gt; 13 mdp.39015058109706 C:\Users\marquexa\AppData\Local\Te… csv.gz  pageme… TRUE  </span></span>
<span><span class="co">#&gt; 14 nyp.33433081795357 C:\Users\marquexa\AppData\Local\Te… csv.gz  pageme… TRUE  </span></span>
<span><span class="co">#&gt; 15 uva.x000469924     C:\Users\marquexa\AppData\Local\Te… csv.gz  pageme… TRUE  </span></span>
<span><span class="co">#&gt; # … with abbreviated variable names ¹​cache_format, ²​cache_type</span></span></code></pre></div>
<p>And read them all into memory in one go:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tocqueville_ef</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_cached_htids.html">read_cached_htids</a></span><span class="op">(</span><span class="va">result3</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="op">]</span>, dir <span class="op">=</span> <span class="va">tmpdir</span><span class="op">)</span></span>
<span><span class="va">tocqueville_ef</span></span>
<span><span class="co">#&gt; # A tibble: 1,191,761 × 43</span></span>
<span><span class="co">#&gt;    htid        token POS   count section  page schem…¹ id    type  dateC…² title</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 mdp.390150… PLÉI… UNK       1 body        7 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  2 mdp.390150… BIBL… UNK       1 body        7 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  3 mdp.390150… LA    UNK       1 body        7 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  4 mdp.390150… DE    UNK       1 body        7 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  5 mdp.390150… MÉLO… UNK       1 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  6 mdp.390150… FRAN… UNK       3 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  7 mdp.390150… FRAN… UNK       2 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  8 mdp.390150… PRÉS… UNK       1 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt;  9 mdp.390150… PAR   UNK       3 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt; 10 mdp.390150… INTR… UNK       1 body        9 https:… http… "[[\…  2.02e7 Oeuv…</span></span>
<span><span class="co">#&gt; # … with 1,191,751 more rows, 32 more variables: contributor &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   pubDate &lt;int&gt;, publisher &lt;chr&gt;, pubPlace &lt;chr&gt;, language &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   accessRights &lt;chr&gt;, accessProfile &lt;chr&gt;, sourceInstitution &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   mainEntityOfPage &lt;chr&gt;, oclc &lt;chr&gt;, isbn &lt;chr&gt;, genre &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   enumerationChronology &lt;chr&gt;, typeOfResource &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lastRightsUpdateDate &lt;int&gt;, lcc &lt;chr&gt;, lccn &lt;chr&gt;, category &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   seq &lt;chr&gt;, version &lt;chr&gt;, tokenCount &lt;int&gt;, lineCount &lt;int&gt;, …</span></span>
<span><span class="co">#&gt; # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span></code></pre></div>
<p>See the articles “<a href="articles/topic_models_using_hathi_ef">Topic Models Using Hathi Extracted Features</a>” and “<a href="articles/example_workflow">An Example Workflow</a>” for more on rsyncing large numbers of Hathi Trust JSON extracted features files and caching them to other formats for analysis.</p>
<p>It is also possible to download the big “<a href="https://www.hathitrust.org/hathifiles" class="external-link">hathifile</a>” to get basic metadata for ALL of the texts in the Hathi Trust digital library; this is useful for selecting random samples.</p>
</div>
<div class="section level2">
<h2 id="credits">Credits<a class="anchor" aria-label="anchor" href="#credits"></a>
</h2>
<p>This package includes some code from the <a href="https://github.com/HumanitiesDataAnalysis/hathidy" class="external-link">hathidy</a> and <a href="https://github.com/bmschmidt/edinburgh/" class="external-link">edinburgh</a> repos by @bmschmidt.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/xmarquez/hathiTools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/xmarquez/hathiTools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing hathiTools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Xavier Marquez <br><small class="roles"> Author, maintainer </small>  </li>
<li>Ben Schmidt <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/xmarquez/hathiTools/actions" class="external-link"><img src="https://github.com/xmarquez/hathiTools/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Xavier Marquez, Ben Schmidt.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
